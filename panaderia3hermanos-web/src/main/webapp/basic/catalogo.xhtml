<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
   <title>Catálogo de productos</title>
   <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
   <h:outputStylesheet name="estilos.css" library="css"/>
</h:head>

<h:body>
   <h1>Catálogo de productos</h1>

   <h:form>
      <h:panelGrid columns="3" columnClasses="col1,col2,col3" styleClass="productos-grid">
         <ui:repeat value="#{panaderiaBean.productos}" var="producto">
            <h:panelGroup layout="block" styleClass="producto-card">

               <h:graphicImage library="images" name="#{producto.nombre}" alt="#{producto.nombre}" styleClass="producto-imagen"/>

               <h3>#{producto.nombre}</h3>
               <p>#{producto.descripcion}</p>
               <p><strong>$#{producto.precio}</strong></p>

               <!-- Cantidad a agregar -->
               <h:inputText value="#{panaderiaBean.productos}" size="2" maxlength="2">
                  <f:validateLongRange minimum="1"/>
               </h:inputText>

               <!-- Botón para agregar al carrito -->
               <h:commandButton value="Agregar al carrito"
                                action="#{catalogoBean.agregarAlCarrito(producto)}" />
            </h:panelGroup>
         </ui:repeat>
      </h:panelGrid>
   </h:form>

   <h:link outcome="carrito" value="Ver carrito de compras" style="margin-top:20px; display:block;" />
</h:body>
</html>
